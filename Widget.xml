<Ui xmlns="http://www.blizzard.com/wow/ui/"   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"   xsi:schemaLocation="http://www.blizzard.com/wow/ui/">

    <Frame name="ImprovedAddonListDropDown" inherits="UIDropDownMenuTemplate" parent="AddonList">
        <Anchors>
            <Anchor point="TOPLEFT" x="0" y="-30"/>
        </Anchors>
        <Scripts>
            <OnLoad>
                AddonCharacterDropDown:Hide()
                UIDropDownMenu_JustifyText(self,"LEFT")
                UIDropDownMenu_SetAnchor(self, 14, 22)
                UIDropDownMenu_SetWidth(self, 140)
            </OnLoad>
        </Scripts>
    </Frame>

    <CheckButton name="ImprovedAddonListCheckButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="26" y="26"/>
		</Size>
		<HitRectInsets>
			<AbsInset left="0" right="-100" top="0" bottom="0"/>
		</HitRectInsets>
        <Layers>
			<Layer level="ARTWORK">
				<FontString parentKey="Text" inherits="GameFontNormalSmall">
					<Anchors>
						<Anchor point="LEFT" relativePoint="RIGHT">
							<Offset>
								<AbsDimension x="0" y=""/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnClick>
				if (self:GetChecked()) then
					PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
				else
					PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_OFF);
				end
			</OnClick>
			<OnEnter>
				if (self.tooltipText) then
					GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
					GameTooltip_SetTitle(GameTooltip, self.tooltipText);
					GameTooltip:Show();
				end
			</OnEnter>
			<OnLeave>
				if(self.tooltipText ~= nil) then
					GameTooltip:Hide();
				end
			</OnLeave>
		</Scripts>
		<NormalTexture file="Interface\Buttons\UI-CheckBox-Up"/>
		<PushedTexture file="Interface\Buttons\UI-CheckBox-Down"/>
	 	<HighlightTexture file="Interface\Buttons\UI-CheckBox-Highlight" alphaMode="ADD"/>
		<CheckedTexture file="Interface\Buttons\UI-CheckBox-Check"/>
		<DisabledCheckedTexture file="Interface\Buttons\UI-CheckBox-Check-Disabled"/>
	</CheckButton>

    <Button name="ImprovedAddonListButtonTemplate" virtual="true">
        <Size x="14" y="14"/>
        <Scripts>
			<OnEnter>
				if(self.tooltipText ~= nil) then
					GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
					GameTooltip_SetTitle(GameTooltip, self.tooltipText);
					GameTooltip:Show();
				end
			</OnEnter>
			<OnLeave>
				if(self.tooltipText ~= nil) then
					GameTooltip:Hide();
				end
			</OnLeave>
        </Scripts>
    </Button>

    <Button name="ImprovedAddonListSaveButton" parent="AddonList" inherits="ImprovedAddonListButtonTemplate">
        <Anchors>
            <Anchor point="LEFT" relativePoint="RIGHT" relativeTo="ImprovedAddonListDropDown" x="0" y="2"/>
        </Anchors>
        <NormalTexture file="Interface\AddOns\ImprovedAddonList\Media\save"/>
        <PushedTexture file="Interface\AddOns\ImprovedAddonList\Media\save_push"/>
        <HighlightTexture file="Interface\AddOns\ImprovedAddonList\Media\save_highlight"/>
        <Scripts>
            <OnLoad>
                self:RegisterForClicks("LeftButtonUp", "RightButtonUp")
            </OnLoad>
        </Scripts>
    </Button>

    <Button name="ImprovedAddonListSaveAsButton" parent="AddonList" inherits="ImprovedAddonListButtonTemplate">
        <Anchors>
            <Anchor point="LEFT" relativePoint="RIGHT" relativeTo="ImprovedAddonListSaveButton" x="8" y="0"/>
        </Anchors>
        <NormalTexture file="Interface\AddOns\ImprovedAddonList\Media\saveas"/>
        <PushedTexture file="Interface\AddOns\ImprovedAddonList\Media\saveas_push"/>
        <HighlightTexture file="Interface\AddOns\ImprovedAddonList\Media\saveas_highlight"/>
    </Button>

    <Button name="ImprovedAddonListDeleteButton" parent="AddonList" inherits="ImprovedAddonListButtonTemplate">
        <Anchors>
            <Anchor point="LEFT" relativePoint="RIGHT" relativeTo="ImprovedAddonListSaveAsButton" x="8" y="0"/>
        </Anchors>
        <NormalTexture file="Interface\AddOns\ImprovedAddonList\Media\delete"/>
        <PushedTexture file="Interface\AddOns\ImprovedAddonList\Media\delete_push"/>
        <HighlightTexture file="Interface\AddOns\ImprovedAddonList\Media\delete_highlight"/>
    </Button>

    <Button name="ImprovedAddonListTipsButton" parent="AddonList" inherits="ImprovedAddonListButtonTemplate" hidden="true">
        <Anchors>
            <Anchor point="LEFT" relativePoint="RIGHT" relativeTo="ImprovedAddonListDeleteButton" x="8" y="0"/>
        </Anchors>
        <NormalTexture file="Interface\AddOns\ImprovedAddonList\Media\tips"/>
    </Button>

    <Frame name="ImprovedAddonListInputDialog" parent="AddonList" inherits="ButtonFrameTemplate" hidden="true" frameStrata="DIALOG">
        <Size x="320" y="250"/>
        <Anchors>
            <Anchor point="TOP" relativePoint="BOTTOM" relativeTo="ImprovedAddonListSaveAsButton" x="0" y="-3"/>
        </Anchors>
        <Layers>
            <Layer layer="ARTWORK">
				<FontString parentKey="Text" inherits="GameFontNormal" text="这一块占位，不同场景触发加载即将到来">
					<Anchors>
						<Anchor point="TOP" y="-70"/>
					</Anchors>
				</FontString>
            </Layer>
        </Layers>
        <Frames>
            <EditBox parentKey="EditBox" multiLine="true" autoFocus="true" letters="45">
                <Anchors>
                    <Anchor point="TOPLEFT" x="10" y="-130"/>
                    <Anchor point="BOTTOMRIGHT" x="-10" y="30"/>
                </Anchors>
		        <FontString inherits="GameFontHighlightLarge"/>
            </EditBox>
            <Button parentKey="OkayButton" inherits="SharedButtonSmallTemplate" text="OKAY"> -->
                <Size x="80" y="22"/>
                <Anchors>
                    <Anchor point="BOTTOMRIGHT" x="-4" y="4"/>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        self:SetFrameLevel(self:GetParent().EditBox:GetFrameLevel()+1)
                    </OnLoad>
                </Scripts>
            </Button>

            <CheckButton parentKey="SaveToGlobal" inherits="ImprovedAddonListCheckButtonTemplate">
                <Anchors>
                    <Anchor point="BOTTOMLEFT" x="4" y="2"/>
                </Anchors>
                <Scripts>
                    <OnHide>
                        self:SetChecked(false)
                    </OnHide>
                </Scripts>
            </CheckButton>
        </Frames>
        
        <Scripts>
            <OnLoad>
                self.Inset:ClearAllPoints()
                self.Inset:SetPoint("TOPLEFT", 4, -120)
                self.Inset:SetPoint("BOTTOMRIGHT", -6, 26)
                ButtonFrameTemplate_HidePortrait(self)
            </OnLoad>
        </Scripts>
    </Frame>
</Ui>